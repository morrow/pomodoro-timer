{"version":3,"sources":["../src/pomodoro.es6"],"names":[],"mappings":"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","file":"pomodoro.js","sourcesContent":["class Pomodoro {\n\n  constructor() {\n    this.timers = []\n    this.current_mode = 'work'\n    this.next_mode = 'short_break'\n    this.loadStorage()\n    this.createTimer()\n    this.listen()\n  }\n\n  loadStorage() {\n    if(window.localStorage['task']){\n      $('#task').val( window.localStorage['task'] )\n    }\n  }\n\n  getCurrentTimer() {\n    this.timers[this.timers.length - 1]\n  }\n\n  listen() {\n    for(action of ['start', 'pause', 'reset']){\n      $(`#${action}`).click( (e) => {\n        this.getCurrentTimer()[e.target.id]()\n      })\n      $('#task').on('keyup', (e) => {\n        window.localStorage['task'] = $(this).val()\n      })\n    }\n  }\n\n  createTimer() {\n    task = $('#task').val()\n    mode = this.current_mode\n    if(this.timers.length > 0){\n      this.timers[this.timers.length - 1].state = 'ended'\n    }\n    timer = (new Timer(mode, task))\n    this.timers.push(timer)\n    this.render()\n    return timer\n  }\n\n  switchModes() {\n    _current_mode = this.current_mode\n    this.current_mode = this.next_mode\n    this.next_mode = _current_mode\n    timer = this.createTimer()\n    this.timers[this.timers.length - 1].start()\n    Notification.requestPermission()\n    if($('#notifications')[0].checked){\n      n = new Notification(\"Time's Up\", {\n        body: `${timer.time_remaining} of ${this.current_mode} begins now.`,\n        icon: '/time.jpg'\n      })\n      window.setTimeout(n.close.bind(n), 3000)\n    }\n  }\n\n  render() {\n    $('body')[0].className = `${this.current_mode} ${this.getCurrentTimer().state}`\n    $('#history').html('')\n    for(item of this.timers.slice(0,-1)){\n      ele = item.toHTML()\n      $('#history').append( ele )\n    }\n    $('#current-timer').html(this.timers.slice(-1)[0].toHTML())\n    document.title = ` ${this.current_mode} ${this.getCurrentTimer().time_remaining} | Pomodoro Timer`\n    $('#time_remaining').html(this.getCurrentTimer().time_remaining)\n  }\n\n}\n"]}